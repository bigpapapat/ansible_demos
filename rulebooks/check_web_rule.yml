---
- name: URL check rulebook
  hosts: all
  sources:
    - name: MyUrlEventSource
      ansible.eda.url_check:
        urls: 
          - http://ec2-54-165-215-182.compute-1.amazonaws.com
        delay: 30
        verify_ssl: false
  rules:
    - name: Check for failed URL
      condition: event.url_check.status == "down"
      action:
        # Action to run if the condition is met, e.g., run a playbook to restart a service
        run_job_template:
          name: restart_httpd
